<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.devMode" value="true" />
	<constant name="struts.i18n.encoding" value="UTF-8" />
	<constant name="struts.action.extension" value="go" />
	<constant name="struts.objectFactory" value="spring" />
	<constant name="struts.custom.i18n.resources" value="ApplicationMessages" />
	<constant name="struts.ui.theme" value="css_xhtml" />

	<include file="struts-default.xml" />

	<package name="default" extends="struts-default">
	</package>

	<package name="registration" extends="default" namespace="/public/register">
		<action name="request" method="input" class="userRegistrationAction">
			<result>/views/public/security/register/request.jsp</result>
		</action>
		<action name="register" method="register" class="userRegistrationAction">
			<result name="input">/views/public/security/register/request.jsp</result>
			<result>/views/public/security/register/requestReceived.jsp</result>
		</action>

		<action name="challenge" method="input" class="userActivationAction">
			<result>/views/public/security/register/activate.jsp</result>
		</action>
		<action name="activate" method="activate" class="userActivationAction">
			<result name="input">/views/public/security/register/activate.jsp</result>
			<result>/views/public/security/register/activated.jsp</result>
		</action>
	</package>

	<package name="security" extends="default" namespace="/public/security">
		<action name="signOff" method="execute"
			class="com.gb1.healthcheck.web.security.SignOffAction">
			<result>/</result>
		</action>
		<action name="lostPassword" method="input" class="lostPasswordAction">
			<result>/views/public/security/lostPassword.jsp</result>
		</action>
		<action name="sendPassword" method="sendLostPassword" class="lostPasswordAction">
			<result name="input">/views/public/security/lostPassword.jsp</result>
			<result>/views/public/security/passwordSent.jsp</result>
		</action>
	</package>

	<package name="workbench" extends="default" namespace="/workbench">
		<action name="show" method="execute" class="workbenchAction">
			<result>/views/workbench/main.jsp</result>
		</action>
	</package>

	<package name="nutrition" extends="default" namespace="/nutrition">
		<action name="listFoods" method="listFoods" class="listFoodsAction">
			<result>/views/nutrition/foods.jsp</result>
		</action>
		<action name="listMeals" method="listMeals" class="listMealsAction">
			<result>/views/nutrition/meals.jsp</result>
		</action>
	</package>

	<package name="simpleFood" extends="default" namespace="/nutrition/simpleFood">
		<action name="createInput" method="input" class="createSimpleFoodAction">
			<result>/views/nutrition/newSimpleFood.jsp</result>
		</action>
		<action name="createSubmit" method="submit" class="createSimpleFoodAction">
			<result name="input">/views/nutrition/newSimpleFood.jsp</result>
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
		<action name="updateInput" method="input" class="updateSimpleFoodAction">
			<result>/views/nutrition/updateSimpleFood.jsp</result>
		</action>
		<action name="updateSubmit" method="submit" class="updateSimpleFoodAction">
			<result name="input">/views/nutrition/updateSimpleFood.jsp</result>
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
		<action name="delete" method="submit" class="deleteSimpleFoodAction">
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
	</package>

	<package name="complexFood" extends="default" namespace="/nutrition/complexFood">
		<action name="createInput" method="input" class="createComplexFoodAction">
			<result>/views/nutrition/newComplexFood.jsp</result>
		</action>
		<action name="createSubmit" method="submit" class="createComplexFoodAction">
			<result name="input">/views/nutrition/newComplexFood.jsp</result>
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
		<action name="updateInput" method="input" class="updateComplexFoodAction">
			<result>/views/nutrition/updateComplexFood.jsp</result>
		</action>
		<action name="updateSubmit" method="submit" class="updateComplexFoodAction">
			<result name="input">/views/nutrition/updateComplexFood.jsp</result>
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
		<action name="delete" method="submit" class="deleteComplexFoodAction">
			<result name="success" type="redirect-action">
				<param name="namespace">/nutrition</param>
				<param name="actionName">listFoods</param>
			</result>
		</action>
	</package>

</struts>
